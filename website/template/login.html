<!DOCTYPE html> {% load static %}

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>RobCoGVis</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.css" integrity="sha256-QVBN0oT74UhpCtEo4Ko+k3sNo+ykJFBBtGduw13V9vw=" crossorigin="anonymous" />
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.4.0.min.js"></script>

    <script>
        $(document).ready(function() {
            var state = "{{server_state|safe}}";
            if (state != "Online") {
                $("#server_state").css("color", "red");
                console.log("Offline");
            }
        });
    </script>
</head>

<body>
    <div class="ui center page grid">
		<div class="row">NOTE: experimental web service for RAW access of annotated synthetic image datasets from virtual environments.<br>In case of various unhandled exceptions, press logout/abort, and try again..</div>
        <div class="row"></div>
        <div class="row"></div>
        <!--div class="row">
            <div class="four wide column"></div>
            <div class="eight wide column">
                <h1 class="ui header" style="font-family: Comic Sans MS;font-size:80px">
                    RobCoGVis
                </h1>
            </div>
        </div-->
        <div class="row"></div>
        <div class="row"></div>
        <div class="row">
            <div class="four wide column"></div>
            <div class="eight wide column">
                <form method="get" class="ui form" action="/to_search_page/" id="main_form">
                    <div class="ui grid">
                        <div class="row">
                            <div class="six wide column"></div>
                            <div class="four wide column">
                                <img class="ui tiny circular image" src="{% static 'img/rob.jpg' %}" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="four wide column"></div>
                            <div class="eight wide column">
                                <input type="text" placeholder="User01" id="user_id" name="user_id" value="DefaultUsername" />
                                <script>
                                    let rand_id = Math.random().toString(36).substring(7);
                                    document.getElementById("user_id").value = rand_id; 
                                </script>
                            </div>
                        </div>
                        <div class="row">
                            <div class="six wide column"></div>
                            <div class="eight wide column">
                                <button class="ui button" type="submit">Connect</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="row">
            <div class="six wide column"></div>
            <div class="four wide column">
                <div class="ui styled accordion">
                    <div class="active content" style="background-color: #e5e5e7">
                        <font size="3"><b>Server: </b></font>
                        <div style="display: inline;">
                            <font size="3" color="green" id="server_state">{{ server_state}}</font>
                        </div>
                        <br />
                        <!-- <font size="4"><b>Active user: </b></font>
                        <font size="3" id="num_users">{{ num_users}}/8</font> -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>